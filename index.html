<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3D Christmas Tree</title>
    <link rel="stylesheet" href="tree.css" />
  </head>

  <body>
    <audio id="myAudio">
      <source src="christmas.mp3" type="audio/mpeg" />
    </audio>

    <div class="music-control">
      <button onclick="document.getElementById('myAudio').play()">
        ▶ Play Music
      </button>
    </div>

    <div class="tree" id="tree"></div>

<script>
const stars = [];
const lights = [];

function getRandomColor() {
  const letters = "0123456789ABCDEF";
  let color = "#";
  for (let i = 0; i < 6; i++) {
    color += letters[Math.floor(Math.random() * 16)];
  }
  return color;
}

function createTree() {
  const tree = document.getElementById("tree");
  const layers = 10;
  let delay = 0;

  for (let i = 0; i < layers; i++) {
    const layerSize = (layers - i) * 10;
    const radius = (layers - i) * 15;
    const y = i * 20;

    for (let j = 0; j < layerSize; j++) {
      const star = document.createElement("div");
      star.className = "star";
      star.innerText = "*";
      star.style.color = getRandomColor();
      star.style.fontSize = `${12 + i}px`;
      star.style.animationDelay = `${delay}s`;

      const angle = (j / layerSize) * Math.PI * 2;
      tree.appendChild(star);

      stars.push({
        el: star,
        angle,
        radius,
        y,
        speed: 0.002 + Math.random() * 0.003,
      });

      delay += 0.02;
    }
  }

  const topStar = document.createElement("div");
  topStar.className = "star top-star";
  topStar.innerText = "★";
  topStar.style.color = "#FFD700";
  topStar.style.fontSize = "42px";
  topStar.style.left = "-10px";
  topStar.style.bottom = `${layers * 20}px`;
  tree.appendChild(topStar);
}

function createLights() {
  const tree = document.getElementById("tree");
  const colors = ["blue", "white", "yellow", "green", "red"];
  const layers = 10;

  for (let i = 0; i < layers; i++) {
    const lightCount = 12;
    const radius = (layers - i) * 12;
    const y = i * 20 + 10;

    for (let j = 0; j < lightCount; j++) {
      const light = document.createElement("div");
      light.className = "light";
      light.style.color = colors[Math.floor(Math.random() * colors.length)];
      light.style.width = "8px";
      light.style.height = "8px";
      light.style.borderRadius = "50%";
      light.style.position = "absolute";
      light.style.animation = `lightBlink ${1 + Math.random()}s infinite alternate`;
      tree.appendChild(light);

      const angle = (j / lightCount) * Math.PI * 2;

      lights.push({ el: light, angle, radius, y, speed: 0.003 });
    }
  }
}

function animate() {
  stars.forEach((s) => {
    s.angle += s.speed;
    s.el.style.left = `${Math.cos(s.angle) * s.radius}px`;
    s.el.style.bottom = `${s.y}px`;
    s.el.style.transform = `translateZ(${Math.sin(s.angle) * s.radius}px)`;
  });

  lights.forEach((l) => {
    l.angle += l.speed;
    l.el.style.left = `${Math.cos(l.angle) * l.radius}px`;
    l.el.style.bottom = `${l.y}px`;
    l.el.style.transform = `translateZ(${Math.sin(l.angle) * l.radius}px)`;
  });

  requestAnimationFrame(animate);
}

createTree();
createLights();
animate();
</script>

      createTree();
      animate();
    </script>
  </body>
</html>
